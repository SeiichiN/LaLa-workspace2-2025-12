Playerクラスの設計

Playerクラス
  マップの中を移動する。
  さまざまなコマンドを入力できる。
  (移動、戦う、取る、使う)
  モンスターと戦う。
  マップに落ちているアイテムを取る。
  アイテムを使う。

フィールド
  name   :String 
  py     :int
  px     :int
  hp     :int
  MAX_HP :int
  gm     :GameManager
  
コンストラクタ
  Player(name:String, gm:GameManager)

メソッド
  setRandomPos()
        プレイヤーの位置をランダムに決める。
  command()
        コマンド入力を受け付ける。(1文字)
        コマンド:
          w : 上に移動
          s : 下に移動
          a : 左に移動
          d : 右に移動
          b : マップ上のモンスターと戦う
          t : マップ上のアイテムを取る
          u : 持ち物リストからアイテムを選んで使う。
          i : プレーヤーの情報(HP、持ち物)
          q : ゲームを終了する。
  attack(Monster)
        ランダムに攻撃値を決め、その分だけ、モンスターの
        HPを減らす。
        ただ、自分の HPが0以下だと、攻撃できない。
  look() :void
        現在のプレイヤーの位置のマップ情報を表示する。
  take() :void
        アイテムのインスタンスを生成する。
        char文字が'p'なら、ポーションを生成する。
        アイテムを取得したら、プレイヤーのアイテムリスト
        に追加する。
  selectItem() :Item
        use()メソッドから呼ばれる。
        画面に現在の持ち物一覧を表示し、どのアイテムを使用するのか
        ユーザーに選択させる。
        そのアイテムが戻り値である。
  use() :void
        selectItem()により アイテムを取得する。
        そのアイテムの suffix により、分岐する。
        'p' の場合、usePotion()を実行。
  usePotion(Item) :void
        ItemをPotionにキャストして、ポーションのリカバリーHPを
        使って、HPを回復する。
        

        






;; 修正時刻: Sat 2025/11/22 11:26:18
